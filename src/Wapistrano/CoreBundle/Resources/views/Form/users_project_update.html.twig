{% extends 'WapistranoCoreBundle::base.html.twig' %}
{% block content %}
    {% form_theme form 'WapistranoCoreBundle:Form:fields.html.twig' %}


    <div class="box primary">
        <header>
            <div class="icons">
                <i class="fa fa-building-o"></i>
            </div>
            <h5>{{ barTitle }}</h5>
            {{ form_start(form, { 'attr': {'class': 'form-horizontal'} }) }}

            <div class="toolbar">
                <a href="{{ path('usersProjectsList') }}" class="btn btn-default btn-sm" data-original-title="" title="">Cancel</a>
                {{ form_widget(form.saveTop, { 'attr': {'class': 'btn btn-default btn-sm'}, 'label' : 'Save' }) }}
            </div>
        </header>
        {% if flashMessage is defined  or not form.vars.valid %}
            <div id="flashMessagePopin" class="">
                <i id="flashMessagePopinClose" class="glyphicon glyphicon-remove" style="float:right"></i>
                <span id="flashMessagePopinText">{{form_errors(form)}}</span>
            </div>
        {% endif %}
        <div class="body collapse in" id="div1">

            <table id="dataTable" class="table table-bordered table-condensed table-hover table-striped">
                <thead>
                <tr>
                    <th>Access</th>
                    <th>Login</th>
                    <th>Admin</th>
                </tr>
                </thead>
                <tbody>
                    {% for child in form.user %}
                        {% set index = child.vars.value %}
                        <tr>
                            <td>{{ form_widget(child) }}</td>
                            <td> <div class="wrapCellContent" style="width: 12em;">{{ choices[index].login }}</div></td>
                            <td>
                                <div class="wrapCellContent" style="width: 56em;">{{ choices[index].admin }}</div></td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
            {{ form_end(form, {'render_rest': true}) }}
        </div>
    </div>
{% endblock content %}

